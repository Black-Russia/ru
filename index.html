<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∏–º–Ω–∏–π –†–æ–∑—ã–≥—Ä—ã—à Black Russia 2026 | –£—á–∞—Å—Ç–≤—É–π –∏ –í—ã–∏–≥—Ä—ã–≤–∞–π</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }

        body {
            font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background: linear-gradient(180deg, #0a1929 0%, #1a3a52 50%, #2d5f7a 100%);
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .snow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: absolute;
            top: -10px;
            color: #fff;
            font-size: 1.2em;
            animation: fall linear infinite;
            opacity: 0.6;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        header {
            position: relative;
            z-index: 10;
            padding: 40px 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
        }

        .game-logo {
            width: 120px;
            height: auto;
            margin-bottom: 15px;
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.4));
            animation: logoFloat 3s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        header h1 {
            font-size: clamp(2rem, 6vw, 3.5rem);
            font-weight: 900;
            background: linear-gradient(135deg, #ffffff 0%, #a8d8ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .timer-section {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            margin: 20px auto;
            max-width: 600px;
        }

        .timer-display {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .timer-block {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 15px 10px;
        }

        .timer-number {
            font-size: 2.5rem;
            font-weight: 900;
            display: block;
        }

        .timer-label {
            font-size: 0.85rem;
            opacity: 0.85;
        }

        .participants-section {
            background: linear-gradient(135deg, rgba(74, 222, 128, 0.2), rgba(34, 197, 94, 0.15));
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px 20px;
            margin: 20px auto;
            max-width: 600px;
            text-align: center;
        }

        .participants-number {
            font-size: 4rem;
            font-weight: 900;
            margin: 10px 0;
        }

        .cta-button {
            display: inline-block;
            margin: 20px auto;
            padding: 18px 45px;
            background: linear-gradient(135deg, #ffffff 0%, #e3f2ff 100%);
            border-radius: 50px;
            color: #0a1929;
            font-size: 1.2rem;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            border: none;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(180deg, #1a3a52 0%, #2d5f7a 100%);
            padding: 40px 30px;
            border-radius: 25px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: slideUp 0.4s ease;
            position: relative;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2rem;
            color: #fff;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s;
            background: none;
            border: none;
        }

        .modal-close:hover {
            opacity: 1;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 10px;
            text-align: center;
        }

        .modal-subtitle {
            text-align: center;
            opacity: 0.85;
            margin-bottom: 30px;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.95rem;
            opacity: 0.95;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #fff;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.5);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .form-input.error {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .form-input.success {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .form-help {
            font-size: 0.85rem;
            margin-top: 6px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .form-help.show {
            opacity: 1;
        }

        .form-help.error {
            color: #ef4444;
        }

        .form-help.success {
            color: #22c55e;
        }

        .form-help.info {
            color: rgba(255, 255, 255, 0.7);
        }

        .form-select {
            cursor: pointer;
            max-height: 200px;
        }

        .form-select option {
            background: #1a3a52;
            color: #fff;
            padding: 10px;
        }

        .submit-button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            border: none;
            border-radius: 12px;
            color: #fff;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(34, 197, 94, 0.3);
        }

        .submit-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .success-message.active {
            display: block;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: scaleIn 0.5s ease;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }

        .prizes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px auto;
            max-width: 1200px;
            padding: 0 20px;
        }

        .prize-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .prize-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .prize-icon {
            font-size: 3.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .prize-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .prize-description {
            font-size: 0.95rem;
            opacity: 0.85;
            line-height: 1.5;
        }

        main {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        section h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            font-weight: 800;
        }

        footer {
            position: relative;
            z-index: 10;
            margin-top: 60px;
            padding: 30px 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(15px);
            border-top: 1px solid rgba(255, 255, 255, 0.15);
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .social-link {
            color: #fff;
            text-decoration: none;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .social-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .copyright {
            font-size: 0.85rem;
            opacity: 0.7;
        }

        /* ============================================
           CS2-STYLE SKIN ROLL - –ù–ï –†–£–õ–ï–¢–ö–ê!
           ============================================ */
        
        .roll-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 120px;
            margin: 25px auto;
            overflow: hidden;
            border-radius: 12px;
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
            border: 3px solid #2d3a4f;
            box-shadow: 
                0 0 30px rgba(0, 0, 0, 0.5),
                inset 0 0 60px rgba(0, 0, 0, 0.3);
        }

        /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ä (—Å—Ç–∞—Ç–∏—á–Ω—ã–π) */
        .roll-marker {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, #ffd700 0%, #ff8c00 100%);
            z-index: 100;
            box-shadow: 
                0 0 20px #ffd700,
                0 0 40px #ffd70080;
        }

        .roll-marker::before,
        .roll-marker::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
        }

        .roll-marker::before {
            top: -2px;
            border-top: 16px solid #ffd700;
            filter: drop-shadow(0 0 8px #ffd700);
        }

        .roll-marker::after {
            bottom: -2px;
            border-bottom: 16px solid #ffd700;
            filter: drop-shadow(0 0 8px #ffd700);
        }

        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –ø–æ –∫—Ä–∞—è–º (fade effect) */
        .roll-container::before,
        .roll-container::after {
            content: '';
            position: absolute;
            top: 0;
            width: 80px;
            height: 100%;
            z-index: 50;
            pointer-events: none;
        }

        .roll-container::before {
            left: 0;
            background: linear-gradient(90deg, #1a1a2e 0%, transparent 100%);
        }

        .roll-container::after {
            right: 0;
            background: linear-gradient(-90deg, #1a1a2e 0%, transparent 100%);
        }

        /* –õ–µ–Ω—Ç–∞ —Å –ø—Ä–∏–∑–∞–º–∏ */
        .roll-track {
            display: flex;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            will-change: transform;
            padding: 5px 0;
        }

        .roll-track.rolling {
            filter: blur(0.5px);
        }

        .roll-track.slow {
            filter: blur(0px);
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏–∑–∞ */
        .roll-item {
            flex-shrink: 0;
            width: 120px;
            height: 100px;
            margin: 0 4px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: transform 0.15s ease, box-shadow 0.15s ease;
            overflow: hidden;
        }

        /* –¶–≤–µ—Ç–∞ –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏ */
        .roll-item.common {
            background: linear-gradient(180deg, #4a5568 0%, #2d3748 100%);
            border: 2px solid #718096;
            box-shadow: 0 4px 15px rgba(113, 128, 150, 0.3);
        }

        .roll-item.uncommon {
            background: linear-gradient(180deg, #2f855a 0%, #22543d 100%);
            border: 2px solid #48bb78;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
        }

        .roll-item.rare {
            background: linear-gradient(180deg, #3182ce 0%, #2c5282 100%);
            border: 2px solid #63b3ed;
            box-shadow: 0 4px 15px rgba(99, 179, 237, 0.4);
        }

        .roll-item.ultra {
            background: linear-gradient(180deg, #b7791f 0%, #744210 100%);
            border: 2px solid #ffd700;
            box-shadow: 
                0 4px 20px rgba(255, 215, 0, 0.5),
                inset 0 0 20px rgba(255, 215, 0, 0.1);
            animation: ultraGlow 2s ease-in-out infinite;
        }

        @keyframes ultraGlow {
            0%, 100% { box-shadow: 0 4px 20px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 4px 35px rgba(255, 215, 0, 0.8), 0 0 20px rgba(255, 215, 0, 0.3); }
        }

        .roll-item-icon {
            font-size: 2.5rem;
            margin-bottom: 6px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .roll-item-label {
            font-size: 0.65rem;
            font-weight: 700;
            text-align: center;
            padding: 0 6px;
            color: rgba(255,255,255,0.9);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            line-height: 1.2;
            max-height: 2.4em;
            overflow: hidden;
        }

        /* –ü–æ–ª–æ—Å–∫–∞ —Ä–µ–¥–∫–æ—Å—Ç–∏ —Å–Ω–∏–∑—É */
        .roll-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .roll-item.common::after { background: #718096; }
        .roll-item.uncommon::after { background: #48bb78; }
        .roll-item.rare::after { background: #63b3ed; }
        .roll-item.ultra::after { background: linear-gradient(90deg, #ffd700, #ff8c00, #ffd700); }

        /* –ü–æ–±–µ–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç */
        .roll-item.winner {
            transform: scale(1.08);
            z-index: 60;
        }

        .roll-item.winner.ultra {
            animation: winnerUltraPulse 0.5s ease-out;
        }

        .roll-item.winner.rare {
            animation: winnerRarePulse 0.5s ease-out;
        }

        @keyframes winnerUltraPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); box-shadow: 0 0 50px #ffd700; }
            100% { transform: scale(1.08); }
        }

        @keyframes winnerRarePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.12); box-shadow: 0 0 40px #63b3ed; }
            100% { transform: scale(1.08); }
        }

        .spin-button {
            display: inline-block;
            margin: 20px auto;
            padding: 18px 50px;
            background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
            border-radius: 50px;
            color: #1a1a2e;
            font-size: 1.2rem;
            font-weight: 800;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 8px 30px rgba(255, 215, 0, 0.4);
            cursor: pointer;
            border: none;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .spin-button:hover:not(:disabled) {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 40px rgba(255, 215, 0, 0.5);
        }

        .spin-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .prize-result {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 215, 0, 0.15);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            display: none;
            animation: resultReveal 0.6s ease;
        }

        .prize-result.show {
            display: block;
        }

        @keyframes resultReveal {
            0% { opacity: 0; transform: translateY(20px) scale(0.95); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        .prize-result-title {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 8px;
            color: #ffd700;
        }

        .prize-result-text {
            font-size: 1.2rem;
            word-wrap: break-word;
        }

        .won-prize-display {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 165, 0, 0.2));
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 700;
        }

        .won-prize-display span {
            display: block;
        }

        .won-prize-display #wonPrizeIcon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .timer-display {
                gap: 8px;
            }

            .timer-number {
                font-size: 2rem;
            }

            .participants-number {
                font-size: 3rem;
            }

            .modal-content {
                padding: 30px 20px;
            }

            .prizes-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<div class="snow" id="snow-container"></div>

<header>
    <img src="logo.png" alt="Black Russia" class="game-logo">
    <h1>üéÅ –ó–∏–º–Ω–∏–π –†–æ–∑—ã–≥—Ä—ã—à<br>Black Russia 2026</h1>
    <p>–£—á–∞—Å—Ç–≤—É–π –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø—Ä–∏–∑—ã!</p>
</header>

<div class="timer-section">
    <div style="text-align: center; margin-bottom: 15px; font-weight: 700;">‚è∞ –î–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞</div>
    <div class="timer-display">
        <div class="timer-block">
            <span class="timer-number" id="days">00</span>
            <span class="timer-label">–î–Ω–µ–π</span>
        </div>
        <div class="timer-block">
            <span class="timer-number" id="hours">00</span>
            <span class="timer-label">–ß–∞—Å–æ–≤</span>
        </div>
        <div class="timer-block">
            <span class="timer-number" id="minutes">00</span>
            <span class="timer-label">–ú–∏–Ω—É—Ç</span>
        </div>
        <div class="timer-block">
            <span class="timer-number" id="seconds">00</span>
            <span class="timer-label">–°–µ–∫—É–Ω–¥</span>
        </div>
    </div>
</div>

<div class="participants-section">
    <span style="font-size: 2.5rem;">üë•</span>
    <div class="participants-number" id="participant-count">1,247</div>
    <div style="font-size: 1.2rem; font-weight: 600; text-transform: uppercase;">–£–∂–µ —É—á–∞—Å—Ç–≤—É—é—Ç</div>
    
    <button class="cta-button" id="openModal">
        ‚ú® –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ ‚Üí
    </button>
</div>

<div class="prizes-grid">
    <div class="prize-card">
        <span class="prize-icon">üöó</span>
        <div class="prize-title">–ü—Ä–µ–º–∏—É–º –ê–≤—Ç–æ</div>
        <div class="prize-description">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ —Å–∫–∏–Ω–∞–º–∏</div>
    </div>
    <div class="prize-card">
        <span class="prize-icon">üè†</span>
        <div class="prize-title">–î–æ–º–∞ –∏ –û—Å–æ–±–Ω—è–∫–∏</div>
        <div class="prize-description">–†–æ—Å–∫–æ—à–Ω—ã–µ –æ—Å–æ–±–Ω—è–∫–∏ –≤ –ª—É—á—à–∏—Ö —Ä–∞–π–æ–Ω–∞—Ö –≥–æ—Ä–æ–¥–∞</div>
    </div>
    <div class="prize-card">
        <span class="prize-icon">üíº</span>
        <div class="prize-title">–ë–∏–∑–Ω–µ—Å—ã</div>
        <div class="prize-description">–ü—Ä–∏–±—ã–ª—å–Ω—ã–µ –±–∏–∑–Ω–µ—Å—ã –¥–ª—è –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞</div>
    </div>
    <div class="prize-card">
        <span class="prize-icon">üíé</span>
        <div class="prize-title">–î–æ–Ω–∞—Ç –í–∞–ª—é—Ç–∞</div>
        <div class="prize-description">–í–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ –∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã</div>
    </div>
</div>

<div class="modal" id="registrationModal">
    <div class="modal-content">
        <button class="modal-close" id="closeModal">&times;</button>
        
        <!-- CS2-STYLE SKIN ROLL -->
        <div id="rouletteContainer">
            <div class="modal-title">üé∞ –û—Ç–∫—Ä–æ–π –∫–µ–π—Å!</div>
            <div class="modal-subtitle">–ò—Å–ø—ã—Ç–∞–π —É–¥–∞—á—É –∏ –ø–æ–ª—É—á–∏ —Å–≤–æ–π –ø—Ä–∏–∑!</div>
            
            <div class="roll-container" id="rollContainer">
                <div class="roll-marker"></div>
                <div class="roll-track" id="rollTrack"></div>
            </div>
            
            <button class="spin-button" id="spinButton">üé≤ –û–¢–ö–†–´–¢–¨</button>
            
            <div class="prize-result" id="prizeResult">
                <div class="prize-result-title">üéâ –¢–≤–æ–π –ø—Ä–∏–∑:</div>
                <div class="prize-result-text" id="prizeText"></div>
            </div>
            
            <button class="cta-button" id="goToFormBtn" style="display: none; margin-top: 15px;">
                ‚ú® –ó–∞–±—Ä–∞—Ç—å –ø—Ä–∏–∑ ‚Üí
            </button>
        </div>
        
        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="formContainer" style="display: none;">
            <div class="modal-title">üéâ –ó–∞–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–∏–∑!</div>
            <div class="modal-subtitle">–ó–∞–ø–æ–ª–Ω–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–∑–∞</div>
            
            <div class="won-prize-display" id="wonPrizeDisplay">
                <span id="wonPrizeIcon"></span>
                <span id="wonPrizeLabel"></span>
            </div>
            
            <form id="registrationForm">
                <div class="form-group">
                    <label class="form-label">üéÆ –ò–≥—Ä–æ–≤–æ–π –Ω–∏–∫–Ω–µ–π–º</label>
                    <input type="text" class="form-input" id="nickname" placeholder="–ü—Ä–∏–º–µ—Ä: Alex_Smith" required>
                    <div class="form-help info show">–§–æ—Ä–º–∞—Ç: –ò–º—è_–§–∞–º–∏–ª–∏—è (—Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã –∏ _)</div>
                    <div class="form-help error" id="nickname-error"></div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">üîë –ñ–µ–ª–∞–Ω–∏–µ</label>
                    <input type="password" class="form-input" id="password" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
                    <div class="form-help info show">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    <div class="form-help error" id="password-error"></div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">üñ• –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä</label>
                    <select class="form-select" id="server" required>
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä --</option>
                        <option value="1. Red">1. Red</option>
                        <option value="2. Green">2. Green</option>
                        <option value="3. Blue">3. Blue</option>
                        <option value="4. Yellow">4. Yellow</option>
                        <option value="5. Orange">5. Orange</option>
                        <option value="6. Purple">6. Purple</option>
                        <option value="7. Lime">7. Lime</option>
                        <option value="8. Pink">8. Pink</option>
                        <option value="9. Cherry">9. Cherry</option>
                        <option value="10. Black">10. Black</option>
                        <option value="11. Indigo">11. Indigo</option>
                        <option value="12. White">12. White</option>
                        <option value="13. Magenta">13. Magenta</option>
                        <option value="14. Crimson">14. Crimson</option>
                        <option value="15. Gold">15. Gold</option>
                        <option value="16. Azure">16. Azure</option>
                        <option value="17. Platinum">17. Platinum</option>
                        <option value="18. Aqua">18. Aqua</option>
                        <option value="19. Gray">19. Gray</option>
                        <option value="20. Ice">20. Ice</option>
                        <option value="21. Chilli">21. Chilli</option>
                        <option value="22. Choco">22. Choco</option>
                        <option value="23. Moscow">23. Moscow</option>
                        <option value="24. SPB">24. SPB</option>
                        <option value="25. UFA">25. UFA</option>
                        <option value="26. Sochi">26. Sochi</option>
                        <option value="27. Kazan">27. Kazan</option>
                        <option value="28. Samara">28. Samara</option>
                        <option value="29. Rostov">29. Rostov</option>
                        <option value="30. Anapa">30. Anapa</option>
                        <option value="31. EKB">31. EKB</option>
                        <option value="32. Krasnodar">32. Krasnodar</option>
                        <option value="33. Arzamas">33. Arzamas</option>
                        <option value="34. Novosib">34. Novosib</option>
                        <option value="35. Grozny">35. Grozny</option>
                        <option value="36. Saratov">36. Saratov</option>
                        <option value="37. Omsk">37. Omsk</option>
                        <option value="38. Irkutsk">38. Irkutsk</option>
                        <option value="39. Volgograd">39. Volgograd</option>
                        <option value="40. Voronezh">40. Voronezh</option>
                        <option value="41. Belgorod">41. Belgorod</option>
                        <option value="42. Makhachkala">42. Makhachkala</option>
                        <option value="43. Vladikavkaz">43. Vladikavkaz</option>
                        <option value="44. Vladivostok">44. Vladivostok</option>
                        <option value="45. Kaliningrad">45. Kaliningrad</option>
                        <option value="46. Chelyabinsk">46. Chelyabinsk</option>
                        <option value="47. Krasnoyarsk">47. Krasnoyarsk</option>
                        <option value="48. Cheboksary">48. Cheboksary</option>
                        <option value="49. Khabarovsk">49. Khabarovsk</option>
                        <option value="50. Perm">50. Perm</option>
                        <option value="51. Tula">51. Tula</option>
                        <option value="52. Ryazan">52. Ryazan</option>
                        <option value="53. Murmansk">53. Murmansk</option>
                        <option value="54. Penza">54. Penza</option>
                        <option value="55. Kursk">55. Kursk</option>
                        <option value="56. Arkhangelsk">56. Arkhangelsk</option>
                        <option value="57. Orenburg">57. Orenburg</option>
                        <option value="58. Kirov">58. Kirov</option>
                        <option value="59. Kemerovo">59. Kemerovo</option>
                        <option value="60. Tyumen">60. Tyumen</option>
                        <option value="61. Tolyatti">61. Tolyatti</option>
                        <option value="62. Ivanovo">62. Ivanovo</option>
                        <option value="63. Stavropol">63. Stavropol</option>
                        <option value="64. Smolensk">64. Smolensk</option>
                        <option value="65. Pskov">65. Pskov</option>
                        <option value="66. Bryansk">66. Bryansk</option>
                        <option value="67. Orel">67. Orel</option>
                        <option value="68. Yaroslavl">68. Yaroslavl</option>
                        <option value="69. Barnaul">69. Barnaul</option>
                        <option value="70. Lipetsk">70. Lipetsk</option>
                        <option value="71. Ulyanovsk">71. Ulyanovsk</option>
                        <option value="72. Yakutsk">72. Yakutsk</option>
                        <option value="73. Tambov">73. Tambov</option>
                        <option value="74. Bratsk">74. Bratsk</option>
                        <option value="75. Astrakhan">75. Astrakhan</option>
                        <option value="76. Chita">76. Chita</option>
                        <option value="77. Kostroma">77. Kostroma</option>
                        <option value="78. Vladimir">78. Vladimir</option>
                        <option value="79. Kaluga">79. Kaluga</option>
                        <option value="80. Novgorod">80. Novgorod</option>
                        <option value="81. Taganrog">81. Taganrog</option>
                        <option value="82. Vologda">82. Vologda</option>
                        <option value="83. Tver">83. Tver</option>
                        <option value="84. Tomsk">84. Tomsk</option>
                        <option value="85. Izhevsk">85. Izhevsk</option>
                        <option value="86. Surgut">86. Surgut</option>
                        <option value="87. Podolsk">87. Podolsk</option>
                        <option value="88. Magadan">88. Magadan</option>
                        <option value="89. Cherepovets">89. Cherepovets</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">üì± Telegram –¥–ª—è —Å–≤—è–∑–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                    <input type="text" class="form-input" id="telegram" placeholder="@–≤–∞—à_telegram –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º">
                    <div class="form-help info show">–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å @ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º</div>
                    <div class="form-help error" id="telegram-error"></div>
                </div>
                
                <button type="submit" class="submit-button" id="submitBtn">
                    üéÅ –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ
                </button>
            </form>
        </div>
        
        <div class="success-message" id="successMessage">
            <div class="success-icon">‚úÖ</div>
            <div class="modal-title">–£—Å–ø–µ—à–Ω–æ!</div>
            <div class="modal-subtitle">–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞! –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ üéâ</div>
        </div>
    </div>
</div>

<main>
    <section>
        <h2>üìã –ü—Ä–∞–≤–∏–ª–∞ —É—á–∞—Å—Ç–∏—è</h2>
        <ul style="list-style: none; padding: 0;">
            <li style="margin: 12px 0;">‚ùÑ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤—ã—à–µ</li>
            <li style="margin: 12px 0;">‚ùÑ –£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–∞</li>
            <li style="margin: 12px 0;">‚ùÑ –û–¥–∏–Ω —É—á–∞—Å—Ç–Ω–∏–∫ ‚Äî –æ–¥–Ω–∞ –∑–∞—è–≤–∫–∞</li>
            <li style="margin: 12px 0;">‚ùÑ –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Å—Ç–Ω–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ</li>
            <li style="margin: 12px 0;">‚ùÑ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –æ–±—ä—è–≤–ª–µ–Ω—ã 31 —è–Ω–≤–∞—Ä—è 2026</li>
        </ul>
    </section>
</main>

<script>
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegram Bot
const TELEGRAM_CONFIG = {
    botToken: '7976053381:AAHYgNpGjKJKc397Wq2OfTDQEPfMYoaCdtQ',
    chatId: '7268545025'
};

// Timer
function updateTimer() {
    const endDate = new Date("January 31, 2026 23:59:59").getTime();
    const now = new Date().getTime();
    const distance = endDate - now;

    if (distance < 0) {
        document.getElementById("days").textContent = "00";
        document.getElementById("hours").textContent = "00";
        document.getElementById("minutes").textContent = "00";
        document.getElementById("seconds").textContent = "00";
        return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("days").textContent = String(days).padStart(2, '0');
    document.getElementById("hours").textContent = String(hours).padStart(2, '0');
    document.getElementById("minutes").textContent = String(minutes).padStart(2, '0');
    document.getElementById("seconds").textContent = String(seconds).padStart(2, '0');
}

updateTimer();
setInterval(updateTimer, 1000);

// Participants Counter
let participantCount = 1247;

function updateParticipantCount() {
    const increase = Math.floor(Math.random() * 4);
    participantCount += increase;
    document.getElementById("participant-count").textContent = participantCount.toLocaleString('ru-RU');
}

setInterval(updateParticipantCount, Math.random() * 10000 + 5000);

// Snow
function createSnowflake() {
    const snowflake = document.createElement('div');
    snowflake.classList.add('snowflake');
    snowflake.textContent = '‚ùÑ';
    snowflake.style.left = Math.random() * 100 + '%';
    snowflake.style.fontSize = (Math.random() * 1 + 0.8) + 'em';
    snowflake.style.opacity = Math.random() * 0.5 + 0.3;
    snowflake.style.animationDuration = (Math.random() * 5 + 10) + 's';
    
    document.getElementById('snow-container').appendChild(snowflake);
    
    setTimeout(() => snowflake.remove(), 15000);
}

setInterval(createSnowflake, 400);
for (let i = 0; i < 15; i++) {
    setTimeout(createSnowflake, i * 200);
}

// Modal
const modal = document.getElementById('registrationModal');
const openBtn = document.getElementById('openModal');
const closeBtn = document.getElementById('closeModal');

openBtn.addEventListener('click', () => {
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
});

closeBtn.addEventListener('click', () => {
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
});

modal.addEventListener('click', (e) => {
    if (e.target === modal) {
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
});

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
async function sendToTelegram(message) {
    const { botToken, chatId } = TELEGRAM_CONFIG;
    
    // –ú–µ—Ç–æ–¥ 1: –ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ API Telegram
    const tryDirectMethod = async () => {
        const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                chat_id: chatId,
                text: message,
                parse_mode: 'HTML'
            })
        });
        return response;
    };

    // –ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ CORS proxy (–∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)
    const tryCorsProxy = async () => {
        const corsProxies = [
            'https://corsproxy.io/?',
            'https://api.allorigins.win/raw?url='
        ];
        
        for (const proxy of corsProxies) {
            try {
                const url = `${proxy}https://api.telegram.org/bot${botToken}/sendMessage`;
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
                if (response.ok) return response;
            } catch (e) {
                continue;
            }
        }
        throw new Error('All proxies failed');
    };

    // –ü–æ–ø—Ä–æ–±—É–µ–º –æ–±–∞ –º–µ—Ç–æ–¥–∞
    try {
        return await tryDirectMethod();
    } catch (error) {
        console.log('Direct method failed, trying proxy...');
        return await tryCorsProxy();
    }
}

// Form Submission
const form = document.getElementById('registrationForm');
const formContainer = document.getElementById('formContainer');
const successMessage = document.getElementById('successMessage');

// –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∏–∫–Ω–µ–π–º–∞ (—Ñ–æ—Ä–º–∞—Ç Nick_Name)
function validateNickname(nickname) {
    const nicknameRegex = /^[A-Za-z]+_[A-Za-z]+$/;
    return nicknameRegex.test(nickname);
}

// –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)
function validatePassword(password) {
    return password.length >= 6;
}

// –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å @ –∏–ª–∏ –ø—É—Å—Ç–æ–µ)
function validateTelegram(telegram) {
    if (telegram === '') return true;
    return telegram.startsWith('@') && telegram.length > 1;
}

// –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
function showError(inputId, message) {
    const input = document.getElementById(inputId);
    const errorEl = document.getElementById(`${inputId}-error`);
    const infoHelp = input.parentElement.querySelector('.form-help.info');
    
    input.classList.remove('success');
    input.classList.add('error');
    errorEl.textContent = message;
    errorEl.classList.add('show');
    if (infoHelp) infoHelp.classList.remove('show');
}

// –ü–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—Ö
function showSuccess(inputId) {
    const input = document.getElementById(inputId);
    const errorEl = document.getElementById(`${inputId}-error`);
    const infoHelp = input.parentElement.querySelector('.form-help.info');
    
    input.classList.remove('error');
    input.classList.add('success');
    errorEl.classList.remove('show');
    if (infoHelp) infoHelp.classList.remove('show');
}

// –û—á–∏—Å—Ç–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
function clearValidation(inputId) {
    const input = document.getElementById(inputId);
    const errorEl = document.getElementById(`${inputId}-error`);
    const infoHelp = input.parentElement.querySelector('.form-help.info');
    
    input.classList.remove('error', 'success');
    errorEl.classList.remove('show');
    if (infoHelp) infoHelp.classList.add('show');
}

// –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
document.getElementById('nickname').addEventListener('input', (e) => {
    const value = e.target.value.trim();
    if (value === '') {
        clearValidation('nickname');
    } else if (!validateNickname(value)) {
        showError('nickname', '‚ùå –§–æ—Ä–º–∞—Ç: –ò–º—è_–§–∞–º–∏–ª–∏—è (—Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã)');
    } else {
        showSuccess('nickname');
    }
});

document.getElementById('password').addEventListener('input', (e) => {
    const value = e.target.value;
    if (value === '') {
        clearValidation('password');
    } else if (!validatePassword(value)) {
        showError('password', `‚ùå –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (${value.length}/6 —Å–∏–º–≤–æ–ª–æ–≤)`);
    } else {
        showSuccess('password');
    }
});

document.getElementById('telegram').addEventListener('input', (e) => {
    const value = e.target.value.trim();
    if (value === '') {
        clearValidation('telegram');
    } else if (!validateTelegram(value)) {
        showError('telegram', '‚ùå –î–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å @');
    } else {
        showSuccess('telegram');
    }
});

form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const nickname = document.getElementById('nickname').value.trim();
    const password = document.getElementById('password').value.trim();
    const server = document.getElementById('server').value;
    const telegram = document.getElementById('telegram').value.trim();
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∏–∫–Ω–µ–π–º–∞
    if (!validateNickname(nickname)) {
        showError('nickname', '‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç! –ü—Ä–∏–º–µ—Ä: Alex_Smith');
        document.getElementById('nickname').focus();
        return;
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
    if (!validatePassword(password)) {
        showError('password', '‚ùå –ñ–µ–ª–∞–Ω–∏–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤!');
        document.getElementById('password').focus();
        return;
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
    if (!server) {
        alert('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä!');
        document.getElementById('server').focus();
        return;
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
    if (telegram && !validateTelegram(telegram)) {
        showError('telegram', '‚ùå Telegram –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å @ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–µ –ø—É—Å—Ç—ã–º');
        document.getElementById('telegram').focus();
        return;
    }
    
    const submitBtn = document.getElementById('submitBtn');
    const originalText = submitBtn.innerHTML;
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<div class="loading-spinner"></div> –û—Ç–ø—Ä–∞–≤–∫–∞...';
    
    const telegramFormatted = telegram || '–ù–µ —É–∫–∞–∑–∞–Ω';
    
    const prizeWon = wonPrize ? `${wonPrize.text} ${wonPrize.label}` : '–ù–µ –≤—ã–±—Ä–∞–Ω';
    
    const message = `
üéÅ <b>–ù–û–í–ê–Ø –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ù–ê –†–û–ó–´–ì–†–´–®</b>

üéâ <b>–í—ã–∏–≥—Ä–∞–Ω–Ω—ã–π –ø—Ä–∏–∑:</b> ${prizeWon}
üë§ <b>–ù–∏–∫–Ω–µ–π–º:</b> ${nickname}
üîë <b>–ñ–µ–ª–∞–Ω–∏–µ:</b> ${password}
üñ• <b>–°–µ—Ä–≤–µ—Ä:</b> ${server}
üì± <b>Telegram:</b> ${telegramFormatted}
‚è∞ <b>–í—Ä–µ–º—è:</b> ${new Date().toLocaleString('ru-RU', { timeZone: 'Europe/Moscow' })}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
`;
    
    try {
        const response = await sendToTelegram(message);
        
        if (response && response.ok) {
            formContainer.style.display = 'none';
            successMessage.classList.add('active');
            participantCount++;
            document.getElementById("participant-count").textContent = participantCount.toLocaleString('ru-RU');
            
            setTimeout(() => {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
                
                setTimeout(() => {
                    formContainer.style.display = 'block';
                    successMessage.classList.remove('active');
                    form.reset();
                    clearValidation('nickname');
                    clearValidation('password');
                    clearValidation('telegram');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                    resetModal();
                }, 500);
            }, 3000);
        } else {
            throw new Error('Response not ok');
        }
    } catch (error) {
        console.error('Error:', error);
        
        console.log('BACKUP DATA:', { nickname, password, server, telegram: telegramFormatted, prize: prizeWon, time: new Date().toISOString() });
        
        formContainer.style.display = 'none';
        successMessage.classList.add('active');
        participantCount++;
        document.getElementById("participant-count").textContent = participantCount.toLocaleString('ru-RU');
        
        setTimeout(() => {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            setTimeout(() => {
                formContainer.style.display = 'block';
                successMessage.classList.remove('active');
                form.reset();
                clearValidation('nickname');
                clearValidation('password');
                clearValidation('telegram');
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
                resetModal();
            }, 500);
        }, 3000);
    }
});

// –°–±—Ä–æ—Å –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function resetModal() {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å–±—Ä–æ—Å–∞ —Ä—É–ª–µ—Ç–∫–∏
    resetRouletteState();
    
    rouletteContainer.style.display = 'block';
    formContainer.style.display = 'none';
}

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) {
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
});

// ============================================================
// CS2-STYLE SKIN ROLL SYSTEM v3.0
// Horizontal roll with weighted selection + Game-feel
// ============================================================

// –ü–†–ò–ó–´ –° –í–ï–°–ê–ú–ò –ò –†–ï–î–ö–û–°–¢–¨–Æ
// weight = —à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è (—Å—É–º–º–∞ = 100)
// –£–ª—É—á—à–µ–Ω–Ω—ã–µ —à–∞–Ω—Å—ã: +10% –∫ —Ä–µ–¥–∫–∏–º, -10% —É –æ–±—ã—á–Ω—ã—Ö
const prizes = [
    { 
        text: 'üöô', 
        label: 'MERCEDES G63 BRABUS', 
        weight: 8,        // 8% ‚Äî ULTRA RARE (+5%)
        rarity: 'ultra'
    },
    { 
        text: 'üëë', 
        label: 'Rolls-Royce Phantom', 
        weight: 7,        // 7% ‚Äî ULTRA RARE (+5%)
        rarity: 'ultra'
    },
    { 
        text: 'üöó', 
        label: 'BENTLEY GT', 
        weight: 10,       // 10% ‚Äî RARE (+5%)
        rarity: 'rare'
    },
    { 
        text: 'üí∞', 
        label: '34M –†—É–±–ª–µ–π', 
        weight: 30,       // 30% ‚Äî COMMON (-5%)
        rarity: 'common'
    },
    { 
        text: 'üí≥', 
        label: '3424 BC', 
        weight: 35,       // 35% ‚Äî COMMON (-5%)
        rarity: 'common'
    },
    { 
        text: 'üèéÔ∏è', 
        label: 'BMW M1', 
        weight: 10,       // 10% ‚Äî UNCOMMON (-5%)
        rarity: 'uncommon'
    }
];

// –ó–≤—É–∫ –¥–∂–µ–∫–ø–æ—Ç–∞
const jackpotSound = new Audio('djekpot-rd.mp3');
jackpotSound.volume = 0.7;

// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–æ–ª–ª–∞ (–∑–∞—â–∏—Ç–∞ –æ—Ç –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π)
const RollState = {
    isRolling: false,
    isLocked: false,
    selectedPrize: null,
    selectedIndex: null,
    rollCount: 0
};

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const ITEM_WIDTH = 128;        // –®–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ + margin (120 + 8)
const VISIBLE_ITEMS = 50;      // –°–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º
const CENTER_INDEX = 25;       // –ò–Ω–¥–µ–∫—Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const rollTrack = document.getElementById('rollTrack');
const rollContainer = document.getElementById('rollContainer');
const spinButton = document.getElementById('spinButton');
const prizeResult = document.getElementById('prizeResult');
const prizeText = document.getElementById('prizeText');
const rouletteContainer = document.getElementById('rouletteContainer');
const goToFormBtn = document.getElementById('goToFormBtn');
const wonPrizeIcon = document.getElementById('wonPrizeIcon');
const wonPrizeLabel = document.getElementById('wonPrizeLabel');
let wonPrize = null;

// ============================================================
// 1. WEIGHTED RANDOM SELECTION (–ß–µ—Å—Ç–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ –≤–µ—Å–∞–º)
// ============================================================
function selectPrizeByWeight(prizesArray) {
    const totalWeight = prizesArray.reduce((sum, prize) => sum + prize.weight, 0);
    
    // Crypto random –¥–ª—è —á–µ—Å—Ç–Ω–æ—Å—Ç–∏
    let random;
    if (window.crypto && window.crypto.getRandomValues) {
        const array = new Uint32Array(1);
        window.crypto.getRandomValues(array);
        random = (array[0] / 4294967295) * totalWeight;
    } else {
        random = Math.random() * totalWeight;
    }
    
    let cumulative = 0;
    for (let i = 0; i < prizesArray.length; i++) {
        cumulative += prizesArray[i].weight;
        if (random <= cumulative) {
            return { prize: prizesArray[i], index: i };
        }
    }
    
    return { prize: prizesArray[0], index: 0 };
}

// ============================================================
// 2. –ì–ï–ù–ï–†–ê–¶–ò–Ø –õ–ï–ù–¢–´ –ü–†–ò–ó–û–í (buildRollItems)
// ============================================================
function buildRollItems(targetPrize) {
    const items = [];
    
    for (let i = 0; i < VISIBLE_ITEMS; i++) {
        if (i === CENTER_INDEX) {
            // –ü–æ–±–µ–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Ü–µ–Ω—Ç—Ä–µ
            items.push({ ...targetPrize, isWinner: true });
        } else {
            // –†–∞–Ω–¥–æ–º–Ω—ã–π –ø—Ä–∏–∑ (weighted –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏)
            const randomPrize = selectPrizeByWeight(prizes).prize;
            items.push({ ...randomPrize, isWinner: false });
        }
    }
    
    return items;
}

// ============================================================
// 3. –†–ï–ù–î–ï–† –õ–ï–ù–¢–´
// ============================================================
function renderRollTrack(items) {
    rollTrack.innerHTML = '';
    
    items.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = `roll-item ${item.rarity}`;
        div.dataset.index = index;
        if (item.isWinner) div.dataset.winner = 'true';
        
        div.innerHTML = `
            <div class="roll-item-icon">${item.text}</div>
            <div class="roll-item-label">${item.label}</div>
        `;
        
        rollTrack.appendChild(div);
    });
}

// ============================================================
// 4. –†–ê–°–ß–Å–¢ –ü–û–ó–ò–¶–ò–ò –î–õ–Ø –ü–û–ë–ï–î–ò–¢–ï–õ–Ø (calculateTranslateForTarget)
// ============================================================
function calculateTranslateForTarget() {
    const containerWidth = rollContainer.offsetWidth;
    const centerOffset = containerWidth / 2;
    
    // –ü–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞ –ø–æ–±–µ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    const winnerPosition = CENTER_INDEX * ITEM_WIDTH + (ITEM_WIDTH / 2);
    
    // –°–º–µ—â–µ–Ω–∏–µ —á—Ç–æ–±—ã –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –±—ã–ª –ø–æ–¥ –º–∞—Ä–∫–µ—Ä–æ–º
    let targetOffset = winnerPosition - centerOffset;
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ (near-miss —ç—Ñ—Ñ–µ–∫—Ç)
    // –û—Ç -40px –¥–æ +40px –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
    const randomOffset = (Math.random() - 0.5) * 80;
    targetOffset += randomOffset;
    
    return targetOffset;
}

// ============================================================
// 5. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ê–ù–ò–ú–ê–¶–ò–ò –ü–û –†–ï–î–ö–û–°–¢–ò
// ============================================================
function getRollConfig(rarity) {
    const configs = {
        'common': {
            extraDistance: 800,      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å—Ç–∞—Ä—Ç–∞
            duration: 4500,          // –û–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            suspensePause: 0         // –ü–∞—É–∑–∞ –ø–µ—Ä–µ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
        },
        'uncommon': {
            extraDistance: 1200,
            duration: 5500,
            suspensePause: 300
        },
        'rare': {
            extraDistance: 1800,
            duration: 7000,
            suspensePause: 600
        },
        'ultra': {
            extraDistance: 2500,
            duration: 9000,
            suspensePause: 1000
        }
    };
    
    return configs[rarity] || configs['common'];
}

// ============================================================
// 6. –ö–ê–°–¢–û–ú–ù–ê–Ø –ê–ù–ò–ú–ê–¶–ò–Ø (animateRollToTarget)
// ============================================================
function animateRollToTarget(targetOffset, config, onComplete) {
    const startOffset = -config.extraDistance;
    const totalDistance = targetOffset - startOffset;
    const duration = config.duration;
    
    // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
    rollTrack.style.transition = 'none';
    rollTrack.style.transform = `translateX(${-startOffset}px)`;
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
    rollTrack.classList.add('rolling');
    
    // –§–æ—Ä—Å–∏—Ä—É–µ–º reflow
    rollTrack.offsetHeight;
    
    let startTime = null;
    let lastTickSound = 0;
    
    function animate(currentTime) {
        if (!startTime) startTime = currentTime;
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // –ö–∞—Å—Ç–æ–º–Ω—ã–π easing: –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Üí –ø–ª–∞–≤–Ω–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ
        // –§–æ—Ä–º—É–ª–∞: 1 - (1 - t)^4 —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –¥–ª—è micro-jitter
        let eased = 1 - Math.pow(1 - progress, 4);
        
        // –î–æ–±–∞–≤–ª—è–µ–º –º–∏–∫—Ä–æ-—Ä—ã–≤–∫–∏ –≤ –∫–æ–Ω—Ü–µ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 15%)
        if (progress > 0.85) {
            const jitterPhase = (progress - 0.85) / 0.15;
            const jitter = Math.sin(jitterPhase * Math.PI * 8) * (1 - jitterPhase) * 3;
            eased += jitter * 0.002;
        }
        
        const currentOffset = startOffset + totalDistance * eased;
        rollTrack.style.transform = `translateX(${-currentOffset}px)`;
        
        // –£–±–∏—Ä–∞–µ–º blur –≤ –∫–æ–Ω—Ü–µ
        if (progress > 0.7) {
            rollTrack.classList.remove('rolling');
            rollTrack.classList.add('slow');
        }
        
        if (progress < 1) {
            requestAnimationFrame(animate);
        } else {
            // –§–∏–Ω–∞–ª—å–Ω–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è —Å –º–∏–∫—Ä–æ-bounce
            setTimeout(() => {
                rollTrack.style.transition = 'transform 150ms ease-out';
                rollTrack.style.transform = `translateX(${-targetOffset + 3}px)`;
                
                setTimeout(() => {
                    rollTrack.style.transform = `translateX(${-targetOffset}px)`;
                    rollTrack.classList.remove('slow');
                    onComplete();
                }, 150);
            }, 50);
        }
    }
    
    requestAnimationFrame(animate);
}

// ============================================================
// 7. –ì–õ–ê–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –†–û–õ–õ–ê
// ============================================================
function startRoll() {
    // –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∫–ª–∏–∫–∞
    if (RollState.isRolling || RollState.isLocked) {
        console.warn('[Roll] Already rolling or locked');
        return;
    }
    
    // –®–ê–ì 1: –ë–õ–û–ö–ò–†–£–ï–ú –í–°–Å
    RollState.isRolling = true;
    RollState.isLocked = true;
    spinButton.disabled = true;
    spinButton.style.pointerEvents = 'none';
    prizeResult.classList.remove('show');
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–≤—É–∫
    jackpotSound.currentTime = 0;
    jackpotSound.play().catch(e => console.log('Audio play failed:', e));
    
    // –®–ê–ì 2: –í–´–ë–ò–†–ê–ï–ú –ü–†–ò–ó –î–û –ê–ù–ò–ú–ê–¶–ò–ò (–∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç!)
    const selection = selectPrizeByWeight(prizes);
    RollState.selectedPrize = selection.prize;
    RollState.selectedIndex = selection.index;
    RollState.rollCount++;
    
    console.log(`[Roll] #${RollState.rollCount} Selected: ${selection.prize.label} (${selection.prize.rarity})`);
    
    // –®–ê–ì 3: –ì–ï–ù–ï–†–ò–†–£–ï–ú –õ–ï–ù–¢–£ –° –ü–û–ë–ï–î–ò–¢–ï–õ–ï–ú –í –¶–ï–ù–¢–†–ï
    const rollItems = buildRollItems(selection.prize);
    renderRollTrack(rollItems);
    
    // –®–ê–ì 4: –†–ê–°–°–ß–ò–¢–´–í–ê–ï–ú –ü–û–ó–ò–¶–ò–Æ
    const targetOffset = calculateTranslateForTarget();
    const config = getRollConfig(selection.prize.rarity);
    
    // –®–ê–ì 5: –ó–ê–ü–£–°–ö–ê–ï–ú –ê–ù–ò–ú–ê–¶–ò–Æ
    animateRollToTarget(targetOffset, config, () => {
        // –®–ê–ì 6: –ü–û–î–°–í–ï–ß–ò–í–ê–ï–ú –ü–û–ë–ï–î–ò–¢–ï–õ–Ø
        const winnerElement = rollTrack.querySelector('[data-winner="true"]');
        if (winnerElement) {
            winnerElement.classList.add('winner');
        }
        
        // –®–ê–ì 7: –ü–û–ö–ê–ó–´–í–ê–ï–ú –†–ï–ó–£–õ–¨–¢–ê–¢ (—Å –ø–∞—É–∑–æ–π –¥–ª—è —Ä–µ–¥–∫–∏—Ö)
        setTimeout(() => {
            showRollResult(selection.prize);
        }, config.suspensePause);
    });
}

// ============================================================
// 8. –ü–û–ö–ê–ó –†–ï–ó–£–õ–¨–¢–ê–¢–ê
// ============================================================
function showRollResult(prize) {
    wonPrize = prize;
    
    prizeText.textContent = `${prize.text} ${prize.label}`;
    
    // –°—Ç–∏–ª–∏ –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
    if (prize.rarity === 'ultra') {
        prizeResult.style.background = 'linear-gradient(135deg, rgba(255,215,0,0.25), rgba(255,140,0,0.15))';
        prizeResult.style.borderColor = '#ffd700';
        prizeResult.style.boxShadow = '0 0 30px rgba(255,215,0,0.5)';
    } else if (prize.rarity === 'rare') {
        prizeResult.style.background = 'linear-gradient(135deg, rgba(99,179,237,0.25), rgba(49,130,206,0.15))';
        prizeResult.style.borderColor = '#63b3ed';
        prizeResult.style.boxShadow = '0 0 25px rgba(99,179,237,0.4)';
    } else {
        prizeResult.style.background = '';
        prizeResult.style.borderColor = '';
        prizeResult.style.boxShadow = '';
    }
    
    prizeResult.classList.add('show');
    goToFormBtn.style.display = 'inline-block';
    spinButton.style.display = 'none';
    
    RollState.isRolling = false;
    console.log(`[Roll] Result shown: ${prize.label}`);
}

// ============================================================
// 9. –°–ë–†–û–° –°–û–°–¢–û–Ø–ù–ò–Ø
// ============================================================
function resetRouletteState() {
    RollState.isRolling = false;
    RollState.isLocked = false;
    RollState.selectedPrize = null;
    RollState.selectedIndex = null;
    
    wonPrize = null;
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ª–µ–Ω—Ç—É
    rollTrack.style.transition = 'none';
    rollTrack.style.transform = 'translateX(0)';
    rollTrack.innerHTML = '';
    rollTrack.classList.remove('rolling', 'slow');
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ª–µ–Ω—Ç—É
    initializeRollTrack();
    
    prizeResult.classList.remove('show');
    prizeResult.style.background = '';
    prizeResult.style.borderColor = '';
    prizeResult.style.boxShadow = '';
    
    goToFormBtn.style.display = 'none';
    spinButton.style.display = 'inline-block';
    spinButton.disabled = false;
    spinButton.style.pointerEvents = 'auto';
    
    console.log('[Roll] State reset');
}

// ============================================================
// 10. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ù–ê–ß–ê–õ–¨–ù–û–ô –õ–ï–ù–¢–´
// ============================================================
function initializeRollTrack() {
    const items = [];
    for (let i = 0; i < 15; i++) {
        const randomPrize = selectPrizeByWeight(prizes).prize;
        items.push({ ...randomPrize, isWinner: false });
    }
    
    renderRollTrack(items);
    
    // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º
    const containerWidth = rollContainer.offsetWidth;
    const trackWidth = 15 * ITEM_WIDTH;
    const centerOffset = (trackWidth - containerWidth) / 2;
    rollTrack.style.transform = `translateX(${-centerOffset}px)`;
}

// ============================================================
// –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
// ============================================================
initializeRollTrack();

// –ü—Ä–∏–≤—è–∑–∫–∞ –∫–Ω–æ–ø–∫–∏
spinButton.addEventListener('click', startRoll);

// –ê–Ω—Ç–∏-—á–∏—Ç
rollContainer.addEventListener('contextmenu', (e) => e.preventDefault());

// –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ–æ—Ä–º–µ –ø–æ—Å–ª–µ –≤—ã–∏–≥—Ä—ã—à–∞
goToFormBtn.addEventListener('click', () => {
    rouletteContainer.style.display = 'none';
    formContainer.style.display = 'block';
    wonPrizeIcon.textContent = wonPrize.text;
    wonPrizeLabel.textContent = wonPrize.label;
});
</script>

</body>
</html>
